@*@model List<HostelManagementSystem.Models.AttendanceRecord>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

    <div class="container mt-5">

        <h2 class="text-center mb-4">📅 Attendance Tracker</h2>

        <form method="post" action="/Attendance/Mark" class="d-flex gap-2 mb-4">
            <input type="text" name="studentName" placeholder="Enter Student Name" class="form-control" required />
            <button class="btn btn-success">Mark Present ✅</button>
        </form>

        <form action="/Attendance/Undo" method="get">
            <button class="btn btn-warning mb-3">Undo Last Entry 🔄</button>
        </form>

        @if (ViewBag.LastMarked != null)
        {
            <div class="alert alert-info">
                Last Marked: <strong>@ViewBag.LastMarked.StudentName</strong> at <strong>@ViewBag.LastMarked.TimeStamp</strong>
            </div>
        }

        <p><strong>Total Present Today:</strong> @ViewBag.TotalCount</p>

        <table class="table table-bordered text-center">
            <thead class="table-dark">
                <tr>
                    <th>Student</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var r in Model)
                {
                    <tr>
                        <td>@r.StudentName</td>
                        <td>@r.Time</td>
                    </tr>
                }
            </tbody>
        </table>

    </div>*@

@model List<HostelManagementSystem.Models.AttendanceRecord>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

    <style>
        body {
            background-color: #f4f6f9;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 30px;
        }

            .dashboard-card h2 {
                font-weight: 600;
                margin-bottom: 25px;
                color: #333;
            }

        .form-control {
            border-radius: 50px;
            padding: 10px 20px;
        }

        .btn-modern {
            border-radius: 50px;
            padding: 10px 25px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-modern-success {
            background: #28a745;
            color: white;
        }

            .btn-modern-success:hover {
                background: #218838;
                color: white;
            }

        .btn-modern-warning {
            background: #ffc107;
            color: #212529;
        }

            .btn-modern-warning:hover {
                background: #e0a800;
                color: #212529;
            }

        table.table {
            border-radius: 10px;
            overflow: hidden;
        }

            table.table thead th {
                background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
                color: white;
                border: none;
            }

            table.table tbody tr:hover {
                background-color: #f0f4ff;
                transition: 0.3s;
            }

        .info-badge {
            background: #d1ecf1;
            color: #0c5460;
            padding: 12px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: inline-block;
            font-weight: 500;
        }
    </style>

    <div class="container mt-5">

        <div class="dashboard-card">
            <h2 class="text-center">📅 Attendance Tracker</h2>

            <!-- MARK PRESENT FORM -->
            <form method="post" action="/Attendance/Mark" class="d-flex gap-2 mb-4">
                <input type="text" name="studentName" placeholder="Enter Student Name" class="form-control" required />
                <button class="btn btn-modern btn-modern-success">Mark Present ✅</button>
            </form>

            <!-- UNDO LAST ENTRY -->
            <form action="/Attendance/Undo" method="get" class="mb-3 text-end">
                <button class="btn btn-modern btn-modern-warning">Undo Last Entry 🔄</button>
            </form>

            <!-- LAST MARKED INFO -->
            @if (ViewBag.LastMarked != null)
        {
            <div class="info-badge">
                Last Marked: <strong>@ViewBag.LastMarked.StudentName</strong> at <strong>@ViewBag.LastMarked.TimeStamp</strong>
            </div>
        }

            <!-- TOTAL COUNT -->
            <p class="mb-3"><strong>Total Present Today:</strong> <span class="badge bg-primary">@ViewBag.TotalCount</span></p>

            <!-- ATTENDANCE TABLE -->
            <div class="table-responsive">
                <table class="table text-center align-middle mb-0">
                    <thead>
                        <tr>
                            <th>Student</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if(Model != null && Model.Count > 0)
                    {
                        @foreach (var r in Model)
                        {
                        <tr>
                            <td>@r.StudentName</td>
                            <td>@r.Time</td>
                        </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="2" class="text-muted">No attendance records yet.</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>

    </div>


